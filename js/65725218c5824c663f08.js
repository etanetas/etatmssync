/*! For license information please see 65725218c5824c663f08.js.LICENSE */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/js/etatmssync/",n(n.s=34)}([function(t,e,n){"use strict";var r=n(4),s=n(17),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function o(t){return null!==t&&"object"==typeof t}function f(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:s,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:f,isStream:function(t){return o(t)&&f(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,s=arguments.length;r<s;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,s=arguments.length;r<s;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,s){t[s]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){t.exports=n(16)},function(t,e,n){var r=n(13);r.Template=n(14).Template,r.template=r.Template,t.exports=r},function(t,e,n){},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(0);function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(s(e)+"="+s(t))}))}),i=a.join("&")}if(i){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(0),s=n(23),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,f={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?o=n(8):"undefined"!=typeof XMLHttpRequest&&(o=n(8)),o),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};f.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){f.headers[t]={}}),r.forEach(["post","put","patch"],function(t){f.headers[t]=r.merge(i)}),t.exports=f}).call(this,n(22))},function(t,e,n){"use strict";var r=n(0),s=n(24),i=n(5),a=n(26),o=n(27),f=n(9);t.exports=function(t){return new Promise(function(e,c){var u=t.data,l=t.headers;r.isFormData(u)&&delete l["Content-Type"];var m=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",h=t.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(m.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,m.onreadystatechange=function(){if(m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?a(m.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:t,request:m};s(e,c,r),m=null}},m.onabort=function(){m&&(c(f("Request aborted",t,"ECONNABORTED",m)),m=null)},m.onerror=function(){c(f("Network Error",t,null,m)),m=null},m.ontimeout=function(){c(f("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var p=n(28),v=(t.withCredentials||o(t.url))&&t.xsrfCookieName?p.read(t.xsrfCookieName):void 0;v&&(l[t.xsrfHeaderName]=v)}if("setRequestHeader"in m&&r.forEach(l,function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete l[e]:m.setRequestHeader(e,t)}),t.withCredentials&&(m.withCredentials=!0),t.responseType)try{m.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){m&&(m.abort(),c(t),m=null)}),void 0===u&&(u=null),m.send(u)})}},function(t,e,n){"use strict";var r=n(25);t.exports=function(t,e,n,s,i){var a=new Error(t);return r(a,e,n,s,i)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){e=e||{};var n={};return r.forEach(["url","method","params","data"],function(t){void 0!==e[t]&&(n[t]=e[t])}),r.forEach(["headers","auth","proxy"],function(s){r.isObject(e[s])?n[s]=r.deepMerge(t[s],e[s]):void 0!==e[s]?n[s]=e[s]:r.isObject(t[s])?n[s]=r.deepMerge(t[s]):void 0!==t[s]&&(n[s]=t[s])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},,function(t,e,n){!function(t){var e=/\S/,n=/\"/g,r=/\n/g,s=/\r/g,i=/\\/g,a=/\u2028/,o=/\u2029/;function f(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function c(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function u(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,s=t.length;r<s;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(n,r){var s=n.length,i=0,a=null,o=null,l="",m=[],d=!1,h=0,p=0,v="{{",g="}}";function _(){l.length>0&&(m.push({tag:"_t",text:new String(l)}),l="")}function b(n,r){if(_(),n&&function(){for(var n=!0,r=p;r<m.length;r++)if(!(n=t.tags[m[r].tag]<t.tags._v||"_t"==m[r].tag&&null===m[r].text.match(e)))return!1;return n}())for(var s,i=p;i<m.length;i++)m[i].text&&((s=m[i+1])&&">"==s.tag&&(s.indent=m[i].text.toString()),m.splice(i,1));else r||m.push({tag:"\n"});d=!1,p=m.length}function y(t,e){var n="="+g,r=t.indexOf(n,e),s=c(t.substring(t.indexOf("=",e)+1,r)).split(" ");return v=s[0],g=s[s.length-1],r+n.length-1}for(r&&(r=r.split(" "),v=r[0],g=r[1]),h=0;h<s;h++)0==i?u(v,n,h)?(--h,_(),i=1):"\n"==n.charAt(h)?b(d):l+=n.charAt(h):1==i?(h+=v.length-1,"="==(a=(o=t.tags[n.charAt(h+1)])?n.charAt(h+1):"_v")?(h=y(n,h),i=0):(o&&h++,i=2),d=h):u(g,n,h)?(m.push({tag:a,n:c(l),otag:v,ctag:g,i:"/"==a?d-v.length:h+g.length}),l="",h+=g.length-1,i=0,"{"==a&&("}}"==g?h++:f(m[m.length-1]))):l+=n.charAt(h);return b(d,!0),m};var l={_t:!0,"\n":!0,$:!0,"/":!0};function m(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function d(t,e,n){for(var r=0,s=n.length;r<s;r++)if(n[r].c==t&&n[r].o==e)return!0}function h(t){var e=[];for(var n in t.partials)e.push('"'+v(n)+'":{name:"'+v(t.partials[n].name)+'", '+h(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+function(t){var e=[];for(var n in t)e.push('"'+v(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}(t.subs)}t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+h(e)+"}"};var p=0;function v(t){return t.replace(i,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(s,"\\r").replace(a,"\\u2028").replace(o,"\\u2029")}function g(t){return~t.indexOf(".")?"d":"f"}function _(t,e){var n="<"+(e.prefix||"")+t.n+p++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+v(n)+'",c,p,"'+(t.indent||"")+'"));',n}function b(t,e){e.code+="t.b(t.t(t."+g(t.n)+'("'+v(t.n)+'",c,p,0)));'}function y(t){return"t.b("+t+");"}t.generate=function(e,n,r){p=0;var s={code:"",subs:{},partials:{}};return t.walk(e,s),r.asString?this.stringify(s,n,r):this.makeTemplate(s,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+g(e.n)+'("'+v(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+g(e.n)+'("'+v(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":_,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var s=n.partials[_(e,n)];s.subs=r.subs,s.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+v(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=y('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+g(t.n)+'("'+v(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=y('"'+v(t.text)+'"')},"{":b,"&":b},t.walk=function(e,n){for(var r,s=0,i=e.length;s<i;s++)(r=t.codegen[e[s].tag])&&r(e[s],n);return n},t.parse=function(e,n,r){return function e(n,r,s,i){var a,o=[],f=null,c=null;for(a=s[s.length-1];n.length>0;){if(c=n.shift(),a&&"<"==a.tag&&!(c.tag in l))throw new Error("Illegal content in < super tag.");if(t.tags[c.tag]<=t.tags.$||m(c,i))s.push(c),c.nodes=e(n,c.tag,s,i);else{if("/"==c.tag){if(0===s.length)throw new Error("Closing tag without opener: /"+c.n);if(f=s.pop(),c.n!=f.n&&!d(c.n,f.n,i))throw new Error("Nesting error: "+f.n+" vs. "+c.n);return f.end=c.i,o}"\n"==c.tag&&(c.last=0==n.length||"\n"==n[0].tag)}o.push(c)}if(s.length>0)throw new Error("missing closing tag: "+s.pop().n);return o}(e,0,[],(r=r||{}).sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),s=this.cache[r];if(s){var i=s.partials;for(var a in i)delete i[a].instance;return s}return s=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=s}}(e)},function(t,e,n){!function(t){function e(t,e,n){var r;return e&&"object"==typeof e&&(void 0!==e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:function(t){return t=f(t),o.test(t)?t.replace(n,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(i,"&#39;").replace(a,"&quot;"):t},t:f,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],r=e[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,n.subs){for(key in e.stackText||(e.stackText={}),n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);r=function(t,e,n,r,s,i){function a(){}function o(){}var f;a.prototype=t,o.prototype=t.subs;var c=new a;for(f in c.subs=new o,c.subsText={},c.buf="",r=r||{},c.stackSubs=r,c.subsText=i,e)r[f]||(r[f]=e[f]);for(f in r)c.subs[f]=r[f];for(f in s=s||{},c.stackPartials=s,n)s[f]||(s[f]=n[f]);for(f in s)c.partials[f]=s[f];return c}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=r,r},rp:function(t,e,n,r){var s=this.ep(t,n);return s?s.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(c(r))for(var s=0;s<r.length;s++)t.push(r[s]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,r,s,i,a){var o;return(!c(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,s,i,a)),o=!!t,!r&&o&&e&&e.push("object"==typeof t?t:e[e.length-1]),o)},d:function(t,n,r,s){var i,a=t.split("."),o=this.f(a[0],n,r,s),f=this.options.modelGet,u=null;if("."===t&&c(n[n.length-2]))o=n[n.length-1];else for(var l=1;l<a.length;l++)void 0!==(i=e(a[l],o,f))?(u=o,o=i):o="";return!(s&&!o)&&(s||"function"!=typeof o||(n.push(u),o=this.mv(o,n,r),n.pop()),o)},f:function(t,n,r,s){for(var i=!1,a=!1,o=this.options.modelGet,f=n.length-1;f>=0;f--)if(void 0!==(i=e(t,n[f],o))){a=!0;break}return a?(s||"function"!=typeof i||(i=this.mv(i,n,r)),i):!s&&""},ls:function(t,e,n,r,s){var i=this.options.delimiters;return this.options.delimiters=s,this.b(this.ct(f(t.call(e,r)),e,n)),this.options.delimiters=i,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,r,s,i,a){var o,f=e[e.length-1],c=t.call(f);return"function"==typeof c?!!r||(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,f,n,o.substring(s,i),a)):c},mv:function(t,e,n){var r=e[e.length-1],s=t.call(r);return"function"==typeof s?this.ct(f(s.call(r)),r,n):s},sub:function(t,e,n,r){var s=this.subs[t];s&&(this.activeSub=t,s(e,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,s=/>/g,i=/\'/g,a=/\"/g,o=/[&<>\"\']/;function f(t){return String(null==t?"":t)}var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e,n){},function(t,e,n){"use strict";var r=n(0),s=n(4),i=n(18),a=n(10);function o(t){var e=new i(t),n=s(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var f=o(n(7));f.Axios=i,f.create=function(t){return o(a(f.defaults,t))},f.Cancel=n(11),f.CancelToken=n(31),f.isCancel=n(6),f.all=function(t){return Promise.all(t)},f.spread=n(32),t.exports=f,t.exports.default=f},function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(0),s=n(5),i=n(19),a=n(20),o=n(10);function f(t){this.defaults=t,this.interceptors={request:new i,response:new i}}f.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},f.prototype.getUri=function(t){return t=o(this.defaults,t),s(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){f.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){f.prototype[t]=function(e,n,s){return this.request(r.merge(s||{},{method:t,url:e,data:n}))}}),t.exports=f},function(t,e,n){"use strict";var r=n(0);function s(){this.handlers=[]}s.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},s.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=s},function(t,e,n){"use strict";var r=n(0),s=n(21),i=n(6),a=n(7),o=n(29),f=n(30);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!o(t.url)&&(t.url=f(t.baseURL,t.url)),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=s(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e){var n,r,s=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var f,c=[],u=!1,l=-1;function m(){u&&f&&(u=!1,f.length?c=f.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=o(m);u=!0;for(var e=c.length;e;){for(f=c,c=[];++l<e;)f&&f[l].run();l=-1,e=c.length}f=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||o(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t,e,n){var s=n.config.validateStatus;!s||s(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,s){return t.config=e,n&&(t.code=n),t.request=r,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&s.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=s(window.location.href),function(e){var n=r.isString(e)?s(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,s,i,a){var o=[];o.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(s)&&o.push("path="+s),r.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(11);function s(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var t;return{token:new s(function(e){t=e}),cancel:t}},t.exports=s},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(2),s=n.n(r),i=(n(15),function(){function t(){this.el=null,this.selectedElement=null,this.selectedClass="etatms_searchbox-selected",this.contentElement=null,this.selectedContent=null,this.content=[]}var e=t.prototype;return e.getContentElement=function(){if(this.contentElement)return this.contentElement;var t=this.el.getElementsByClassName("etatms_searchbox-content");return t?(this.contentElement=t[0],this.contentElement):document.createElement("div")},e.show=function(){this.getContentElement().classList.add("etatms_searchbox-content_show")},e.hide=function(){this.getContentElement().classList.remove("etatms_searchbox-content_show")},e.setSelected=function(t){t&&(this.selectedElement&&this.selectedElement.classList.remove(this.selectedClass),t.classList.add(this.selectedClass),t.scrollIntoView({block:"nearest"}),this.selectedElement=t)},e.setLoading=function(){var t=this.el.getElementsByClassName("etatms_searchbox-loading");t&&t[0].classList.add("etatms_searchbox-loading_show")},e.unsetLoading=function(){var t=this.el.getElementsByClassName("etatms_searchbox-loading");t&&t[0].classList.remove("etatms_searchbox-loading_show")},e.selectNext=function(){this.selectedElement&&this.selectedElement.nextSibling?this.setSelected(this.selectedElement.nextSibling):this.content[0]&&this.setSelected(this.content[0].el)},e.selectPrevious=function(){this.selectedElement&&this.selectedElement.previousSibling?this.setSelected(this.selectedElement.previousSibling):this.content[0]&&this.setSelected(this.content[this.content.length-1].el)},e.renderContent=function(){var t=this.getContentElement();t.innerHTML="",this.content.length>0&&(this.setSelected(this.content[0].el),this.content.forEach(function(e){t.appendChild(e.el)}))},e.setPlaceholder=function(t){this.placeHolder=t},e.setContent=function(t){var e=this,n=this;if(this.content=[],t){var r=0;t.forEach(function(t){var s={};s.el=document.createElement("a"),t.value?(s.el.innerHTML=t.value,s.value=t.value,s.id=t.id):(s.el.innerHTML=t,s.value=t),s.el.setAttribute("data-etatms-ind",r),s.el.addEventListener("mouseenter",function(t){n.setSelected(t.target)}),s.el.addEventListener("click",function(t){var r=t.target.getAttribute("data-etatms-ind");if(r){var s=e.el.getElementsByTagName("input");if(s)s[0].value=e.content[r].value,e.selectedContent=e.content[r],n.hide()}}),n.content.push(s),r++})}this.renderContent()},e.clear=function(){this.el=null,this.selectedElement=null,this.contentElement=null,this.content=[]},e.close=function(){this.el.remove(),this.clear()},e.save=function(){},e.render=function(t){var e=this;this.clear();var n=(new DOMParser).parseFromString('<div class="etatms_searchbox">\n  <input type="text" placeholder="Search.." class="etatms_searchbox-input">\n  <i class="fa fa-spinner fa-spin etatms_searchbox-loading" aria-hidden="true"></i>\n  <div class="etatms_searchbox-content">\n  </div>\n</div>',"text/html").getElementsByTagName("div"),r=this;if(n){this.el=n[0];var s=this.el.getElementsByTagName("input");if(s){var i=s[0];this.placeHolder&&(i.placeholder=this.placeHolder),i.addEventListener("focus",function(n){t(n),e.show()}),i.addEventListener("keydown",function(t){switch(t.keyCode){case 38:if(r.getContentElement().classList.contains("etatms_searchbox-content_show")){t.preventDefault(),r.selectPrevious();break}break;case 40:if(r.getContentElement().classList.contains("etatms_searchbox-content_show")){t.preventDefault(),r.selectNext();break}}}),i.addEventListener("keyup",function(n){switch("none"==r.contentElement.style.display&&r.show(),n.keyCode){case 13:var s=e.selectedElement.getAttribute("data-etatms-ind");!e.getContentElement().classList.contains("etatms_searchbox-content_show")&&e.selectedContent&&e.save(),s&&(n.target.value=e.content[s].value,e.selectedContent=e.content[s],r.hide());break;case 38:if(r.getContentElement().classList.contains("etatms_searchbox-content_show"))break;r.show();case 40:if(r.getContentElement().classList.contains("etatms_searchbox-content_show"))break;r.show();case 27:r.getContentElement().classList.contains("etatms_searchbox-content_show")?r.hide():r.close();break;default:t&&t(n,r)}})}}return this.el},t}()),a=n(1),o=n.n(a),f=(n(33),function(){function t(t){this.el=null,this.id="",t.id&&(this.id=t.id),this.name="",t.name&&(this.name=t.name),this.removeEvent=function(t){console.log("not implemented")}}var e=t.prototype;return e.close=function(){this.el.remove()},e.render=function(){var t=new DOMParser,e=s.a.compile('<div class="etatms_tariffs_lmstariff" data-etatms-lmsid="{{id}}">\n    {{name}}({{id}}) <div class="etatms_button etatms_tariffs_lmstariff_delete"><i class="fa fa-minus" aria-hidden="true"></i></div>\n</div>'),n=t.parseFromString(e.render({id:this.id,name:this.name}),"text/html").getElementsByTagName("div");n&&(this.el=n[0]);var r=this.el.getElementsByClassName("etatms_tariffs_lmstariff_delete");return r&&r[0].addEventListener("click",this.removeEvent),this.el},t}()),c=function(){function t(){this.id=null,this.lmsTariffs=[],this.orig=null,this.trigger=!1,this.el=null}var e=t.prototype;return e.changedLms=function(){return JSON.stringify(this.orig.lmsTariffs)!=JSON.stringify(this.lmsTariffs)},e.changed=function(){return!1},e.showCommit=function(){var t=this.el.querySelector(".etatms_tariffs_tmsbuttons_commit");t&&t.classList.add("etatms_tariffs_tmsbuttons_commit-show")},e.hideCommit=function(){var t=this.el.querySelector(".etatms_tariffs_tmsbuttons_commit");t&&t.classList.remove("etatms_tariffs_tmsbuttons_commit-show")},t}();function u(t,e){if(""==e)return null;for(;t.parentNode&&t.parentNode.classList;){var n=t.parentNode;if(t.parentNode.classList.contains(e))return n;t=n}}function l(t,e,n){var r=null,s=null,i=u(t.target,"etatms_tariffs_lmstariff");i&&(r=i.getAttribute("data-etatms-lmsid"));var a=u(t.target,"etatms_tariffs_row");a&&(s=a.getAttribute("data-etatms-tmsid")),r?n?m(n,r):s&&e[s]?m(n=e[s],r):console.error("Failed to find required tmsRow, tmsid:"+n):console.error("Failed to find required lmsid:"+r)}function m(t,e){if(t){var n=function(t,e){for(var n in t)if(t[n].id==e)return{ind:n,item:t[n]}}(t.lmsTariffs,e);t.lmsTariffs.splice(n.ind,1),n.item.el.remove()}else console.warn("Can't find tms tariff")}function d(t){var e={id:t.syncID,tmsID:t.id,lmsTariffs:t.lmsTariffs},n=t.el.getElementsByClassName("etatms_tariffs_tmsbuttons"),r=null,s=document.createElement("i");return s.classList="fa fa-spinner fa-spin",s.style.marginRight="20px",n&&n[0]&&(r=n[0]).parentNode.replaceChild(s,r),new Promise(function(t,n){o.a.post("/?m=etatmssynctariffs&ajax=commit",e).then(function(e){s.parentNode.replaceChild(r,s),t(e)}).catch(function(t){s.parentNode.replaceChild(r,s),n(t)})})}function h(t,e,n){var r=e.el.getElementsByClassName("etatms_tariffs_lmstariff_add"),s=null;if(r&&r[0]&&(s=r[0]),s){var a=new i,c=document.createElement("div"),m=null,d=e.el.getElementsByClassName("etatms_tariffs_lmsids");d&&d[0]&&(m=d[0]),s.remove(),c.setAttribute("data-etatms-addLmsTariff",""),c.classList=["etatms_tariffs_lmstariff"],c.appendChild(a.render(function(t){!function(t,e,n,r){void 0===r&&(r=[]);var s="/?m=etatmssynctariffs&ajax=lmstariffs";t.target.value&&(s+="&q="+t.target.value),e.setLoading(),o.a.get(s).then(function(t){t.data&&(n=[],t.data.forEach(function(t){if(r){if(!function(t,e){for(var n in e)if(e[n].id==t)return!0;return!1}(t.id,r)){var e={value:t.name,id:t.id};n.push(e)}}else{var s={value:t.name,id:t.id};n.push(s)}})),e.setContent(n),e.unsetLoading()})}(t,a,n,e.lmsTariffs)})),a.setContent(n);var h=document.createElement("i"),p=function(t){if(a.selectedContent&&a.selectedContent.id){var n=u(c,"etatms_tariffs_row");if(n){n.getAttribute("data-etatms-tmsid");!function(t,e,n,r){var s=new f({id:t,name:e});s.removeEvent=function(t){r&&l(t,null,r)};var i=s.render();n.appendChild(i),r&&r.lmsTariffs.push({id:t,name:e,el:i})}(a.selectedContent.id,a.selectedContent.value,m,e),c.remove(),m.appendChild(s)}}};h.classList=["fa fa-check etatms_tariffs_lmstariff_add"],h.addEventListener("click",p),a.save=p,c.appendChild(h);var v=document.createElement("i");v.classList=["fa fa-times etatms_tariffs_lmstariff_cancel"],c.appendChild(v),v.addEventListener("click",function(t){c.remove(),m.appendChild(s)}),m.appendChild(c),a.close=function(t){c.remove(),m.appendChild(s)}}}var p=function(){function t(t){this.el=null,this.id=null,this.url="/?m=etatmssynctariffs&ajax=tmstariffs",this.tmsTariffs={updated:0,tariffs:[]},this.lmsTariffs=[],this.tmsTariff=t||new c,this.globalTmsSync=[]}var e=t.prototype;return e.updateTmsTariffs=function(){var t=this,e=this;return new Promise(function(n,r){o.a.get(t.url).then(function(t){var r=new Date;if(t&&t.data){for(var s in e.tmsTariffs.tariffs=[],e.tmsTariffs.updated=r.getTime(),t.data){var i=t.data[s],a={};i.enabled&&(a.id=i.id,a.value=i.tarif_name,e.tmsTariffs.tariffs.push(a))}n(!0)}else n(!1)}).catch(function(t){r(t)})})},e.commit=function(t){alert("Not implemented")},e.reset=function(t){alert("Not implemented")},e.remove=function(t){alert("Not implemented")},e.save=function(t){alert("Not implemented")},e.close=function(t){this.tmsTariff.el.remove()},e.filterTmsTariffs=function(t){var e=[];for(var n in this.tmsTariffs.tariffs){var r=this.tmsTariffs.tariffs[n];new RegExp(".*"+t+".*","i").test(r.value)&&(this.globalTmsSync[r.id]||e.push(r))}return e},e.eventAddLmsTariff=function(t,e){h(0,this.tmsTariff.el,this.tmsTariff.lmsTariffs)},e.renderTariffContent=function(t,e){var n=this,r="\n      "+e+' <div class="etatms_tariffs_tmsbuttons">\n        <div class="etatms_tariffs_tmsbuttons_commit etatms_tariffs_tmsbuttons_commit-show">\n          <a href class="etatms_tariffs_tmstariff_commit etatms_button">commit</a>\n          <a href class="etatms_tariffs_tmstariff_reset etatms_button">reset</a>\n        </div>\n        <i class="fa fa-minus etatms_tariffs_tmstariff_delete etatms_button" aria-hidden="true"></i>\n      </div>\n    ';t.innerHTML=r;var s=t.getElementsByClassName("etatms_tariffs_tmstariff_commit");s&&s[0]&&s[0].addEventListener("click",function(t){t.preventDefault(),n.commit(t,n.tmsTariff)});var i=t.getElementsByClassName("etatms_tariffs_tmstariff_reset");i&&i[0]&&i[0].addEventListener("click",function(t){t.preventDefault(),n.reset(t)});var a=t.getElementsByClassName("etatms_tariffs_tmstariff_delete");a&&a[0]&&a[0].addEventListener("click",function(t){t.preventDefault(),n.remove(t)})},e.rerenderLmsTariff=function(){var t=this.tmsTariff.el.querySelector(".etatms_tariffs_lmstariff_add"),e=this.tmsTariff.el.querySelector(".etatms_tariffs_lmsids");for(var n in e.innerHTML="",this.tmsTariff.lmsTariffs)e.appendChild(this.tmsTariff.lmsTariffs[n].el);e.appendChild(t),this.tmsTariff.hideCommit()},e.render=function(){var t=this,e=this,n=new DOMParser,r=null,a=null;if(this.tmsTariff.id)r=s.a.compile('<div class="etatms_tariffs_row" data-etatms-tmsname="{{name}}" data-etatms-tmsid="{{id}}" data-etatms-id="{{syncID}}">\n  <div class="etatms_tariffs_tmsid">\n    <div class="etatms_tariffs_tmsname">\n      {{name}}\n    </div>\n    <div class="etatms_tariffs_tmsbuttons">\n      <div class="etatms_tariffs_tmsbuttons_commit">\n        <a href class="etatms_tariffs_tmstariff_save">commit</a>\n        <a href class="etatms_tariffs_tmstariff_reset">reset</a>\n      </div>\n      <i class="fa fa-minus etatms_tariffs_tmstariff_delete etatms_button" aria-hidden="true"></i>\n    </div>\n  </div>\n  <div class="etatms_tariffs_lmsids" >\n    <div class="etatms_tariffs_lmstariff etatms_tariffs_lmstariff_add etatms_button etatms_button-add" ><i class="fa fa-plus" aria-hidden="true"></i></div>\n  </div>\n</div>'),a=n.parseFromString(r.render({id:this.tmsTariff.id,name:this.tmsTariff.name,syncID:this.tmsTariff.syncID,tariffs:this.tmsTariff.lmsTariffs}),"text/html");else{var o=new i;o.close=function(t){e.close()};var f=o.render(function(e){var n=new Date;!t.tmsTariffs.updated||t.tmsTariffs.updated<n-6e4?t.updateTmsTariffs().then(function(n){n&&o.setContent(t.filterTmsTariffs(e.target.value))}).catch(function(t){console.error(t)}):o.setContent(t.filterTmsTariffs(e.target.value))});r=s.a.compile('<div class="etatms_tariffs_row">\n  <div class="etatms_tariffs_tmsid">\n    <div class="etatms_tariffs_tmsbuttons">\n      <i class="fa fa-check etatms_tariffs_newtmstariff_save etatms_button"></i>\n      <i class="fa fa-times etatms_tariffs_newtmstariff_cancel etatms_button"></i>\n    </div>\n  </div>\n  <div class="etatms_tariffs_lmsids" >\n     <div class="etatms_tariffs_lmstariff etatms_tariffs_lmstariff_add etatms_button etatms_button-add" ><i class="fa fa-plus" aria-hidden="true"></i></div>\n  </div>\n</div>');var c=(a=n.parseFromString(r.render(),"text/html")).getElementsByClassName("etatms_tariffs_tmsid");c&&c[0]&&c[0].prepend(f);var u=a.getElementsByClassName("etatms_tariffs_newtmstariff_cancel");u&&u[0]&&u[0].addEventListener("click",function(t){e.close()});var l=function(e){var n=t.tmsTariff.el.getElementsByClassName("etatms_tariffs_tmsid");n&&n[0]&&(t.tmsTariff.id=o.selectedContent.id,t.tmsTariff.name=o.selectedContent.value,t.renderTariffContent(n[0],o.selectedContent.value)),t.save()},m=a.getElementsByClassName("etatms_tariffs_newtmstariff_save");m&&m[0]&&m[0].addEventListener("click",l),o.save=l}this.tmsTariff.el=a.querySelector("div");var d=this.tmsTariff.el.querySelector(".etatms_tariffs_lmstariff_add");for(var p in this.tmsTariff.lmsTariffs){var v=this.tmsTariff.lmsTariffs[p];d.parentNode.insertBefore(v.el,d)}if(!this.tmsTariff.id){var g=this.tmsTariff.el.getElementsByClassName("etatms_tariffs_lmstariff_add");g&&g[0]&&g[0].addEventListener("click",function(e){h(0,t.tmsTariff,t.tmsTariff.lmsTariffs)})}return this.tmsTariff.el},t}(),v=(n(3),[]);function g(t){return{set:function(e,n,r){return e.changed()||e.changedLms()?t.showCommit():t.hideCommit(),e[n]=r,!0}}}function _(t){return{set:function(e,n,r){return e[n]=r,t.changedLms()||t.changed()?t.showCommit():t.hideCommit(),!0},get:function(t,e){return t[e]}}}var b={},y=null;function w(t){var e=t.el.getElementsByClassName("etatms_tariffs_lmstariff_add");e&&e[0]&&e[0].addEventListener("click",function(e){h(e.target,t,v)});var n=t.el.getElementsByClassName("etatms_tariffs_tmstariff_delete");n&&n[0]&&(n[0].removeEventListener("click",n[0].click),n[0].addEventListener("click",E));var r=t.el.getElementsByClassName("etatms_tariffs_lmstariff_delete");for(var s in r)r[s].tagName&&(r[s].removeEventListener("click",r[s].click),r[s].addEventListener("click",function(t){l(t,b)}));var i=t.el.getElementsByClassName("etatms_tariffs_tmstariff_commit");i&&i[0]&&i[0].addEventListener("click",function(e){!function(t,e){t.preventDefault(),d(e).then(function(t){e.orig.lmsTariffs=Object.assign([],e.lmsTariffs),e.trigger=new Date}).catch(function(t){console.error(t)})}(e,b[t.id])});var a=t.el.getElementsByClassName("etatms_tariffs_tmstariff_reset");a&&a[0]&&a[0].addEventListener("click",function(e){e.preventDefault(),t.lmsTariffs=new Proxy(Object.assign([],t.orig.lmsTariffs),_(t)),new p(t).rerenderLmsTariff()})}function T(t){if(!y){(y=new p).globalTmsSync=b,y.close=function(t){y.tmsTariff.el.remove(),y=null},y.save=function(t){y.tmsTariff&&(b.new=y.tmsTariff)},y.commit=function(t,e){d(e).then(function(t){var n={id:e.id,lmsTariffs:Object.assign([],e.lmsTariffs),el:e.el};e.orig=n,e.lmsTariffs=new Proxy(e.lmsTariffs,_(e)),b[e.id]=new Proxy(Object.assign(new c,e),g(e)),b[e.id].trigger=new Date,t.data.id&&(b[e.id].syncID=t.data.id);var r,s=(r=b[e.id],new p(r).render());e.el.parentNode.replaceChild(s,e.el),b[e.id].el=s,w(b[e.id]),delete b.new,y=null}).catch(function(t){console.error(t)})},y.reset=function(t,e){b.new&&delete b.new,y.tmsTariff.el.remove(),y=null},y.remove=function(t,e){b.new&&delete b.new,y.tmsTariff.el.remove(),y=null};var e=document.querySelector(".etatms_tariffs_content");e&&e.prepend(y.render())}}function E(t){var e=null,n=u(t.target,"etatms_tariffs_row");n&&(e=n.getAttribute("data-etatms-tmsid")),e&&function(t){var e=b[t].el.getElementsByClassName("etatms_tariffs_tmsbuttons"),n=null,r=null,s=function(){n.innerHTML=r;var t=n.getElementsByClassName("etatms_tariffs_tmstariff_delete");t&&t[0].addEventListener("click",function(t){E(t)})};if(confirm("Delete?")){if(e){n=e[0],r=n.innerHTML,n.innerText="";var i=document.createElement("i");i.classList="fa fa-spinner fa-spin",n.appendChild(i),o.a.post("/?m=etatmssynctariffs&ajax=delete",{id:b[t].syncID}).then(function(e){s(),b[t].el.remove(),delete b[t]}).catch(function(t){s(),alert("Server error: "+t)})}setTimeout(function(){},2e3)}}(e)}!function(){var t=document.querySelector(".etatms_tariffs_tmstariff_add");t&&t.addEventListener("click",T);var e=document.querySelector(".etatms_header_syncbutton");e.addEventListener("click",function(t){e.classList.remove("etatms_header_syncbutton_error"),e.innerHTML;var n=document.createElement("i");n.classList="fa fa-spinner fa-spin",e.prepend(n),e.classList.add("button-centered"),new Promise(function(t,e){o.a.post("/?m=etatmssynctariffs&ajax=syncmiddleware").then(function(e){t()}).catch(function(t){e(t)})}).then(function(t){n.remove()}).catch(function(t){console.log("err"),n.remove(),e.classList.add("etatms_header_syncbutton_error")})});var n=document.querySelectorAll(".etatms_tariffs_row");if(n){var r=/\d+/;for(var s in n)if(r.test(s)){var i=n[s],a=new c,f=i.getAttribute("data-etatms-tmsid");f||console.error("Failed to get tms id");var u=i.getAttribute("data-etatms-tmsname");u||console.error("Failed to get tms name");var l=i.getAttribute("data-etatms-id");l||console.error("Failed to get sync id"),a.el=i,a.id=f,a.syncID=l,a.name=u;var m=[],d=i.getElementsByClassName("etatms_tariffs_lmstariff");for(var h in d)if(d[h]){var p=d[h];if(p.tagName){var v=p.getAttribute("data-etatms-lmsid"),y=p.getAttribute("data-etatms-lmsname");v&&m.push({id:v,name:y,el:p})}}var E=Object.assign({},a);a.orig=E;var x=Object.assign([],m);a.orig.lmsTariffs=x,a.lmsTariffs=new Proxy(m,_(a)),b[f]=new Proxy(a,g(a)),w(a)}}}(),window.tmsSync=b}]);